\newpage
\section{О случайных числах в библиотеке MathHarrixLibrary}\label{section_random}

\textbf{Генератор случайных чисел (ГСЧ)} --- очень важная и нужная функция в программировании. При этом необходим лишь первичный генератор --- генератор случайных вещественных чисел в интервале $\left( 0; 1\right)$ по равномерному закону распределения. Все остальные случайные числа с другими законами распределения можно получить из равномерного.

По умолчанию в библиотеке используется стандартный генератор случайных чисел.


Итак, что есть в библиотеке? Есть две функции и одна переменная:
\begin{itemize}
\item \textbf{MHL\_Dummy} --- результат инициализации генератора случайных чисел. Значение этой переменной вычисляется автоматически функцией MHL\_SeedRandom().
\item \textbf{MHL\_SeedRandom()} --- инициализатор генератора случайных чисел. Нужно вызвать один раз за всё время запуска программы, в которой используется библиотека.
\item \textbf{MHL\_RandomNumber()} --- непосредственно генератор случайных чисел. В своей реализации использует значение переменной MHL\_Dummy.
\end{itemize}

В файле \textbf{MathHarrixLibrary.h} (после объявления констант в начале файла) есть строчки, которые объявляют эти вещи:
\begin{lstlisting}[label=random_h,caption=Объявление функций в MathHarrixLibrary.h]
//ДЛЯ ГЕНЕРАТОРА СЛУЧАЙНЫХ ЧИСЕЛ
void MHL_SeedRandom(void);//Инициализатор генератора случайных чисел
double MHL_RandomNumber(void);//Генерирует вещественное случайное число из интервала (0;1)
\end{lstlisting}

\begin{lstlisting}[label=random_h_cpp,caption=Объявление переменной в MathHarrixLibrary.cpp]
//ДЛЯ ГЕНЕРАТОРА СЛУЧАЙНЫХ ЧИСЕЛ
unsigned int MHL_Dummy;//Результат инициализации генератора случайных чисел
\end{lstlisting}

В случае своего желания Вы можете заменить тело функций MHL\_SeedRandom() и MHL\_RandomNumber() на свои собственные. Ниже представлены варианты, которые предлагаются автором.

\begin{lstlisting}[label=random_standard,caption=Стандартный вариант по умолчанию]
void MHL_SeedRandom(void)
{
/*
Инициализатор генератора случайных чисел.
В данном случае используется самый простой его вариант со всеми его недостатками.
Входные параметры:
 Отсутствуют.
Возвращаемое значение:
 Отсутствуют.
*/ 
//В качестве начального значения для ГСЧ используем текущее время
MHL_Dummy=(unsigned)time(NULL);
srand(MHL_Dummy);//Стандартная инициализация
rand();//первый вызов для контроля
}
//---------------------------------------------------------------------------
double MHL_RandomNumber(void)
{
/*
Генератор случайных чисел (ГСЧ).
В данном случае используется самый простой его вариант со всеми его недостатками.
Использовать в функциях по криптографии не стоит.
Входные параметры:
 Отсутствуют.
Возвращаемое значение:
 Случайное вещественное число из интервала (0;1) по равномерному закону распределения
*/ 
return (double)rand()/(RAND_MAX+1);
}
//---------------------------------------------------------------------------
\end{lstlisting}

Теперь разберем, как применять данные функции.

\begin{itemize}
\item \hyperref[section_install]{Подключаем} библиотеку к Вашему проекту на C++.
\item В начале программы \textbf{один} раз вызываем функцию MHL\_SeedRandom(). Ниже приведены примеры, где обычно стоит вызывать эту функцию.

\begin{lstlisting}[label=random_console,caption=Применение MHL\_SeedRandom для консольного приложения]
int main(void)
{
MHL_SeedRandom();//Инициализировали генератор случайных чисел
...
} 
\end{lstlisting}

\begin{lstlisting}[label=random_cbuilder,caption=Применение MHL\_SeedRandom для C++Builder]
__fastcall TForm1::TForm1(TComponent* Owner)
       : TForm(Owner)
{
MHL_SeedRandom();//Инициализировали генератор случайных чисел
...
}
\end{lstlisting}

\begin{lstlisting}[label=random_qt,caption=Применение MHL\_SeedRandom для Qt]
MainWindow::MainWindow(QWidget *parent) :
    QMainWindow(parent),
    ui(new Ui::MainWindow)
{
    ui->setupUi(this);
    MHL_SeedRandom();//Инициализировали генератор случайных чисел
...
}
\end{lstlisting}

\item Теперь в любом месте программы мы можем получить случайное число из интервала $ \left(0; 1\right)  $. Например:

\begin{lstlisting}[label=random_use,caption=Применение ГСЧ]
double x;
x=MHL_RandomNumber();
\end{lstlisting}

Результат вызова функции, например: $ x = 0,420933187007904 $.

\end{itemize}

Вы можете заменить код этих функций (MHL\_SeedRandom, MHL\_RandomNumber) на свой генератор случайных чисел в интервале $\left( 0; 1\right)$. При этом работоспособность библиотеки не нарушится.